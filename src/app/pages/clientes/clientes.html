<div class="container mt-5">

  <div class="card shadow-lg border-0">
    <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center p-3">
      <h5 class="mb-0 fw-bold"><i class="bi bi-people-fill me-2"></i> Gestão de Clientes</h5>
      <button class="btn btn-light text-primary fw-bold" 
              data-bs-toggle="modal" data-bs-target="#modalCliente" 
              (click)="prepararCadastro()">
        + Novo Cliente
      </button>
    </div>

    <div class="card-body p-0">
      <div class="table-responsive">
        <table class="table table-hover table-striped align-middle mb-0">
          <thead class="table-light">
            <tr>
              <th scope="col" class="ps-4 py-3">Nome do Cliente</th>
              <th scope="col" class="py-3">Contato</th>
              <th scope="col" class="text-center py-3" style="width: 280px;">Ações</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of clientes">
              <td class="ps-4 fw-semibold text-secondary">{{ item.nome }}</td>
              <td>{{ item.Contato }}</td> <td class="text-center">
                <div class="btn-group" role="group">
                  <button class="btn btn-outline-secondary btn-sm" 
                          data-bs-toggle="modal" data-bs-target="#modalCliente" 
                          (click)="prepararEdicao(item)">Editar</button>
                  
                  <button class="btn btn-outline-danger btn-sm" 
                          (click)="apagar(item)">Excluir</button>
                  
                  <button class="btn btn-outline-primary btn-sm" 
                          data-bs-toggle="modal" data-bs-target="#modalSobre" 
                          (click)="verDetalhes(item)">Sobre</button>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalCliente" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title">{{ idEdicao ? 'Editar Cliente' : 'Novo Cliente' }}</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body p-4">
        <form>
          <div class="mb-3">
            <label class="form-label">Nome Completo</label>
            <input type="text" class="form-control" [(ngModel)]="novoCliente.nome" name="nome">
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">CPF</label>
              <input type="text" class="form-control" [(ngModel)]="novoCliente.cpf" name="cpf">
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">Telefone</label>
              <input type="text" class="form-control" [(ngModel)]="novoCliente.telefone" name="tel">
            </div>
          </div>
          <div class="mb-3">
            <label class="form-label">Data de Nascimento</label>
            <input type="date" class="form-control" [(ngModel)]="novoCliente.nascimento" name="nasc">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-success" (click)="salvar()">Salvar</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalSobre" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-info text-white">
        <h5 class="modal-title">Detalhes</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body p-4" *ngIf="clienteSelecionado">
        <h4 class="text-center mb-3">{{ clienteSelecionado.nome }}</h4>
        <ul class="list-group list-group-flush">
          <li class="list-group-item"><strong>Matrícula:</strong> {{ clienteSelecionado.Inscrição }}</li>
          <li class="list-group-item"><strong>CPF:</strong> {{ clienteSelecionado.cpf }}</li>
          <li class="list-group-item"><strong>Telefone:</strong> {{ clienteSelecionado.Contato }}</li>
          <li class="list-group-item"><strong>Aniversário:</strong> {{ clienteSelecionado.aniversario }}</li>
        </ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary w-100" data-bs-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>